{"root":{"data":{"id":"c1k0vjvhz0g0","created":1585150276233,"text":"视图"},"children":[{"data":{"id":"c1k0vu3pw7c0","created":1585150298498,"text":"概述","expandState":"expand","layout":null},"children":[{"data":{"id":"c1k1hky9dmo0","created":1585152002588,"text":"作用：视图接受web请求，并相应web请求","layout":null},"children":[]},{"data":{"id":"c1k0vwl40ug0","created":1585150303903,"text":"本质：视图就是一个python函数","layout":null},"children":[]},{"data":{"id":"c1k1rauop400","created":1585152764246,"text":"响应","layout":null},"children":[{"data":{"id":"c1k1ry85rzc0","created":1585152815127,"text":"网页","layout":null},"children":[{"data":{"id":"c1k1s3gxoa00","created":1585152826541,"text":"重定向","layout":null},"children":[]},{"data":{"id":"c1k1s5q5ejs0","created":1585152831452,"text":"错误视图","layout":null},"children":[{"data":{"id":"c1k1s8b94pc0","created":1585152837082,"text":"404","layout":null},"children":[]},{"data":{"id":"c1k1s9577cg0","created":1585152838892,"text":"500","layout":null},"children":[]}]}]},{"data":{"id":"c1k1s0n4rag0","created":1585152820385,"text":"JSON数据","layout":null},"children":[]}]},{"data":{"id":"c1k1sett2rs0","created":1585152851264,"text":"过程","layout":null},"children":[]}]},{"data":{"id":"c1kia4pmka00","created":1585199377557,"text":"URL配置","expandState":"expand","layout":null},"children":[{"data":{"id":"c1kiaccv7rk0","created":1585199394200,"text":"配置流程","expandState":"expand","layout":null},"children":[{"data":{"id":"c1kiaf6u0140","created":1585199400365,"text":"指定根级URL配置文件，settings.py的ROOT_URLCONF=“project.urls”","layout":null},"children":[]},{"data":{"id":"c1kibfso2d40","created":1585199480049,"text":"urlpatterns","expandState":"expand","layout":null},"children":[{"data":{"id":"c1kibnx6my80","created":1585199497737,"text":"是url实例列表","layout":null},"children":[]},{"data":{"id":"c1kibwdp1uo0","created":1585199516149,"text":"url对象","layout":null,"expandState":"expand"},"children":[{"data":{"id":"c1kic8bsxh40","created":1585199542156,"text":"正则表达式","layout":null},"children":[]},{"data":{"id":"c1kicbv5sog0","created":1585199549857,"text":"视图名称","layout":null},"children":[]},{"data":{"id":"c1kicohru2w0","created":1585199577346,"text":"名称","layout":null},"children":[]}]}]},{"data":{"id":"c1kictj6sls0","created":1585199588315,"text":"url匹配正则的注意事项","layout":null},"children":[{"data":{"id":"c1kid18b2i00","created":1585199605072,"text":"如果想要从url中获取一个值，需要对正则加小括号\nurl(r\"^stu/(\\d+)$\", views.stupage),\n此例中如果url中输入stu/2,那么获取到就是2,可以传给views.py中的函数","layout":null},"children":[]},{"data":{"id":"c1kid1fp6w80","created":1585199605519,"text":"匹配正则前方不需要加反斜杠，需要加r，取消转义","layout":null},"children":[]},{"data":{"id":"c1kid1k6wy00","created":1585199605790,"text":" ","layout":null},"children":[]}]}]},{"data":{"id":"c1kku3jdonc0","created":1585206584505,"text":"引入其他url配置","expandState":"expand","layout":null},"children":[{"data":{"id":"c1kid1mg2m80","created":1585199605927,"text":"首先在project的urls.py文件中使用include()方法，为每个应用匹配一个总的url。\nfrom django.contrib import admin\nfrom django.urls import path, include\nfrom django.conf.urls import url\n\nurlpatterns = [\n\tpath('admin/', admin.site.urls),\n\turl(r'^', include(\"myApp.urls\",namespace=\"myApp\")),\n]","layout":null},"children":[]},{"data":{"id":"c1kkueor0cw0","created":1585206608775,"text":"然后在每一个应用中创建自己urls.py，定义本应用的url配置。\nfrom django.conf.urls import url\nfrom . import views\n\nurlpatterns = [\n\t# url中端口号8000的后面为空匹配此条\n\turl(r'^$', views.index),\n]","layout":null},"children":[]},{"data":{"id":"c1kkyni9nog0","created":1585206941430,"text":"匹配过程，projects的urls.py--->myApp的urls.py--->myApp的views.py","layout":null},"children":[]}]},{"data":{"id":"c1kkziane5c0","created":1585207008450,"text":"URL的反向解析","layout":null},"children":[{"data":{"id":"c1kl156e1p40","created":1585207136623,"text":"如果模板中有一个href标签，点击之后会跳转，那么当project中的urls.py，\n或者myApp中的urls.py改变时，href标签会失效，为了解决这个问题引入，\n比如，project中urls.py的正则是r\"^\",include(myApp.urls)，模板中是<a href = \"something\">跳转</a>,\n点击后就会跳转到127.0.0.1:8000/something，但是当project中的urls.py正则改为r\"^myApp\",include(\"myApp.urls\")后，\n模板的跳转还是到原来的地址，url就会失效","layout":null},"children":[]},{"data":{"id":"c1kl7acbq9c0","created":1585207618050,"text":"解决思路，在使用链接时，通过url配置的名称，动态生成url地址","layout":null},"children":[]},{"data":{"id":"c1kl8gx30ts0","created":1585207710731,"text":"使用场景","layout":null},"children":[{"data":{"id":"c1kl8j3tumg0","created":1585207715492,"text":"使用模板","layout":null},"children":[]},{"data":{"id":"c1kl8lkfg940","created":1585207720849,"text":"反向代理，没讲到","layout":null},"children":[]}]}]}]},{"data":{"id":"c1kl9c7hoc80","created":1585207778840,"text":"视图函数","layout":null},"children":[{"data":{"id":"c1kla0fwvaw0","created":1585207831592,"text":"定义视图","layout":null},"children":[{"data":{"id":"c1kla6cb5vs0","created":1585207844435,"text":"本质：一个函数","layout":null},"children":[]},{"data":{"id":"c1kla9l1jg80","created":1585207851493,"text":"视图参数","layout":null},"children":[{"data":{"id":"c1klabw83zk0","created":1585207856523,"text":"第一个，常用的是resquest，其实可以任意，实际是一个HttpRequest的实例","layout":null},"children":[]},{"data":{"id":"c1klaulk7340","created":1585207897237,"text":"通过urls.py中的正则表达式获取到的参数，这个参数实际来源时网页上的url中一部分","layout":null},"children":[]}]},{"data":{"id":"c1kld05d2xs0","created":1585208066047,"text":"配置位置：一般在views.py中，也可以任意，比如views1.py等等，不建议","layout":null},"children":[]}]},{"data":{"id":"c1kldlkokr40","created":1585208112685,"text":"错误的视图","layout":null},"children":[{"data":{"id":"c1kle09ro9s0","created":1585208144677,"text":"404视图","layout":null},"children":[{"data":{"id":"c1kleof1dd40","created":1585208197239,"text":"urls.py匹配失败时出现","layout":null},"children":[]},{"data":{"id":"c1kletxtguo0","created":1585208209258,"text":"配置位置，template中，名称就叫404.html","layout":null},"children":[{"data":{"id":"c1kv2kyc8740","created":1585235460428,"text":"其中request_path是导致错误的网站 ","layout":null},"children":[]}]},{"data":{"id":"c1kv329oiyg0","created":1585235498119,"text":"配置settings.py","layout":null},"children":[{"data":{"id":"c1kv38w0vxk0","created":1585235512530,"text":"DEBUG=False","layout":null},"children":[]},{"data":{"id":"c1kv3hmh1m80","created":1585235531544,"text":"ALLOWED_HOSTS=[\"*\"]","layout":null},"children":[]}]}]},{"data":{"id":"c1kle34nrz40","created":1585208150899,"text":"500视图","layout":null},"children":[{"data":{"id":"c1kv1zlmxmo0","created":1585235413947,"text":"服务器原因的错误","layout":null},"children":[]}]},{"data":{"id":"c1kle4nies80","created":1585208154215,"text":"400视图","layout":null},"children":[{"data":{"id":"c1kv25gtkqw0","created":1585235426717,"text":"客户操作错误","layout":null},"children":[]}]}]}]},{"data":{"id":"c1kv5ofnwtk0","created":1585235703098,"text":"HttpRequest对象","layout":null},"children":[{"data":{"id":"c1kv5zbcjts0","created":1585235726782,"text":"概述","layout":null},"children":[{"data":{"id":"c1kv60ploww0","created":1585235729820,"text":"服务器接受http请求后，会根据报文创建HttpRequest对象，","layout":null},"children":[]},{"data":{"id":"c1kv6fomcso0","created":1585235762413,"text":"视图的第一个参数就是HttpRequest对象","layout":null},"children":[]},{"data":{"id":"c1kv6xqtopc0","created":1585235801728,"text":"Django创建的，之后调用视图时传递给视图","layout":null},"children":[]}]},{"data":{"id":"c1kv7j52blk0","created":1585235848302,"text":"HttpRequest对象的属性","layout":null},"children":[{"data":{"id":"c1kv7nqxsfc0","created":1585235858331,"text":"path","layout":null},"children":[{"data":{"id":"c1kv7q54s680","created":1585235863543,"text":"请求的完整路径，不包含域名和端口","layout":null},"children":[]}]},{"data":{"id":"c1kv7xafd6w0","created":1585235879101,"text":"method","layout":null},"children":[{"data":{"id":"c1kv804y86w0","created":1585235885300,"text":"表示请求的方式，get、post","layout":null},"children":[]}]},{"data":{"id":"c1kv8c2qcaw0","created":1585235911287,"text":"encoding","layout":null},"children":[{"data":{"id":"c1kv8fl4pd40","created":1585235918930,"text":"表示浏览器提交的数据的编码方式","layout":null},"children":[]}]},{"data":{"id":"c1kv8lnpik80","created":1585235932147,"text":"GET","layout":null},"children":[{"data":{"id":"c1kv9lrqiy00","created":1585236010754,"text":"类似于字典的一个对象，包含了get请求的所有参数","layout":null},"children":[]},{"data":{"id":"c1kvh29sawo0","created":1585236595223,"text":"这一个属性又包含两个方法","layout":null},"children":[{"data":{"id":"c1kwyz97nj40","created":1585240820323,"text":"get()","layout":null,"priority":null},"children":[{"data":{"id":"c1kx11c21qo0","created":1585240981577,"text":"访问的URL：127.0.0.1/sunck?a=1&b=2&c=3\nviews.py中定义函数获取提交的内容\ndef get1(request):\n\ta = request.Get.get(\"a\")\n\tb = request.Get.get(\"b\")\n\tc = request.Get.get(\"c\")","layout":null},"children":[]}]},{"data":{"id":"c1kwz5ldiqo0","created":1585240834119,"text":"getlist()","layout":null},"children":[{"data":{"id":"c1kx11c21qo0","created":1585240981577,"text":"访问的URL：127.0.0.1/sunck?a=1&a=2&c=3\nviews.py中定义函数获取提交的内容\ndef get2(request):\n\ta = request.Get.getlist(\"a\")\na1 = a[0]\na2 = a[1]\n\tc = request.Get.get(\"c\")","layout":null},"children":[]}]}]}]},{"data":{"id":"c1kva4r6abs0","created":1585236052079,"text":"POST","layout":null},"children":[{"data":{"id":"c1kva621rlc0","created":1585236054914,"text":"类似于字典的对象包含了post请求的所有参数","layout":null},"children":[]},{"data":{"id":"c1kx40tjh8w0","created":1585241215550,"text":"使用表单"},"children":[]}]},{"data":{"id":"c1kvakpma800","created":1585236086814,"text":"FILES","layout":null},"children":[{"data":{"id":"c1kvao7h6zk0","created":1585236094424,"text":"类似于字典的对象，包含了素有上传的文件","layout":null},"children":[]}]},{"data":{"id":"c1kvavjevs00","created":1585236110383,"text":"COOKIES","layout":null},"children":[{"data":{"id":"c1kvazcdcvk0","created":1585236118664,"text":"就是一个字典，包含了所有的cookie","layout":null},"children":[]}]},{"data":{"id":"c1kvbafz55c0","created":1585236142827,"text":"session","layout":null},"children":[{"data":{"id":"c1kvbcjvl600","created":1585236147416,"text":"类似于字典的对象，表示当前会话","layout":null},"children":[]}]}]},{"data":{"id":"c1kvbn6ior40","created":1585236170553,"text":"HttpRequest对象的方法","layout":null},"children":[{"data":{"id":"c1kvbq7c1xs0","created":1585236177133,"text":"is_ajax()","layout":null},"children":[{"data":{"id":"c1kvbuwirkg0","created":1585236187363,"text":"如果是通过XMLHttpRequest发起的，返回True","layout":null},"children":[]}]}]},{"data":{"id":"c1kvcfp05cw0","created":1585236232621,"text":"QueryDict对象","layout":null},"children":[{"data":{"id":"c1kvconri8g0","created":1585236252137,"text":"request对象中的GET、POST都属于QueryDict对象","layout":null},"children":[]},{"data":{"id":"c1kvd50bqlc0","created":1585236287725,"text":"方法","layout":null},"children":[{"data":{"id":"c1kvdaaastc0","created":1585236299212,"text":"get()","layout":null},"children":[{"data":{"id":"c1kvdd12eu80","created":1585236305184,"text":"作用：根据键获取值","layout":null},"children":[]},{"data":{"id":"c1kvdos68ug0","created":1585236330768,"text":"一次只能获取一个值,键都不一样","layout":null},"children":[]},{"data":{"id":"c1kveq3mhmg0","created":1585236412001,"text":"实例：www.sunck.wang/abc?a=1&b=2&c=3","layout":null},"children":[]}]},{"data":{"id":"c1kve4fhu3s0","created":1585236364830,"text":"getlist()","layout":null},"children":[{"data":{"id":"c1kve68jsgw0","created":1585236368763,"text":"将键的值以列表形式返回","layout":null},"children":[]},{"data":{"id":"c1kvfrbjp3c0","created":1585236493022,"text":"一次可以获取多个值，,键有重复","layout":null},"children":[]},{"data":{"id":"c1kvfw31ypk0","created":1585236503391,"text":"www.sunck.wang/abc?a=1&a=2","layout":null},"children":[]}]}]}]}]}]},"template":"right","theme":"fish","version":"1.4.43"}